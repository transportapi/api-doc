success:
  description: Public journey planning response
  content:
    application/json:
      schema:
        type: object
        properties:
          request_time:
            $ref: '../parameters.yaml#/request_time'
          source:
            description: Short description of the data source
          acknowledgements:
            description: The journey planning provider
          routes:
            description: A set of alternative routes for the request
            type: array
            items:
              type: object
              required:
                - duration
                - departure_time
                - arrival_time
                - route_parts
              properties:
                duration:
                  type: string
                  format: '^\d{2}:\d{2}:\d{2}$'
                  description: Duration of the entire journey in hh:mm:ss format
                departure_time:
                  type: string
                  format: '^\d{2}:\d{2}$'
                arrival_time:
                  type: string
                  format: '^\d{2}:\d{2}$'
                route_parts:
                  description: >
                    An array of journey legs. Passengers need to change to a new transport mode or new vehicle,
                    e.g. from one train to another at a station, between each of these journey legs
                  type: array
                  items:
                    type: object
                    required:
                      - mode
                      - from_point_name
                      - to_point_name
                      - destination
                      - duration
                      - departure_time
                      - arrival_time
                      - coordinates
                    properties:
                      mode:
                        type: string
                        enum:
                          - foot
                          - tube
                          - dlr
                          - bus
                          - tram
                          - train
                          - overground
                          - boat
                          - metro
                          - wait
                          - unknown
                        description: |
                          The transport mode type. `wait` indicates significant length of time waiting. `unknown`
                          means a mode which does not fit in mentioned modes
                      from_point_name:
                        description: A short textual name (e.g. station name) where this journey leg starts
                      to_point_name:
                        description: A short textual name (e.g. station name) where this journey leg ends
                      destination:
                        description: >
                          Where the vehicle is heading to. This can be displayed to help passengers tell which
                          train/bus to catch. It is the terminating destination which is often shown on the front
                          of vehicles. The station/stop mentioned here may form part of the route, or the passenger
                          may need to get off earlier (at the station/stop given in the to_point_name)
                      departure_time:
                        type: string
                        format: '^\d{2}:\d{2}$'
                        description: >
                          The departure time for this journey leg. This may be the same or a few minutes after the
                          arrival_time of the previous journey leg (a short wait).
                      arrival_time:
                        type: string
                        format: '^\d{2}:\d{2}$'
                        description: >
                          The arrival time for this journey leg
                      duration:
                        type: string
                        format: '^\d{2}:\d{2}:\d{2}$'
                        description: Duration of this journey leg
                      coordinates:
                        description: >
                          An array of coordinates for the journey leg, allowing the route to be plotted as a
                          polyline on a map
                        type: array
                        items:
                          description: >
                            An array with two elements: a longitude and latitude in geoJSON format
                          type: array
                          items:
                            type: number
                          minItems: 2
                          maxItems: 2
      example:
        request_time: '2021-04-28T14:50:44+01:00'
        source: TfL journey planning API
        acknowledgements: Transport for London
        routes:
          - duration: '00:23:00'
            departure_time: '17:56'
            arrival_time: '18:19'
            route_parts:
              - mode: tube
                from_point_name: Euston
                to_point_name: Green Park
                destination: Brixton
                duration: '00:05:00'
                departure_time: '17:56'
                arrival_time: '18:01'
                coordinates:
                  - [-0.13208, 51.52811]
                  - [-0.13701, 51.52622]
              - mode: foot
                from_point_name: Westminster
                to_point_name: Downing Street, Westminster
                destination: ''
                duration: '00:12:00'
                departure_time: '18:07'
                arrival_time: '18:19'
                coordinates:
                  - [-0.12607, 51.50125]
                  - [-0.12612, 51.50125]
